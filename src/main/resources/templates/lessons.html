<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout :: head('Lessons')}"></head>
<body>
    <nav th:replace="~{fragments/layout :: nav('STUDENT')}"></nav>
    <div class="container">
        <div class="mb-2">
            <a th:href="@{/student/dashboard}" class="back-link">? Back to Dashboard</a>
        </div>
        <div class="page-header" th:attr="data-subject=${subject}">
            <h1>
                <span class="subject-icon"></span>
                <span class="subject-title" th:text="${subject}">Subject</span> Lessons
            </h1>
        </div>
        <div th:if="${lessons == null or lessons.isEmpty()}" class="card">
            <p class="text-center text-muted">No lessons available yet.</p>
        </div>
        <div th:each="lesson, iterStat : ${lessons}" class="card" th:attr="data-subject=${subject}">
            <h3 th:text="${iterStat.index + 1} + '. ' + ${lesson.title}">Lesson Title</h3>
            <p class="lesson-content mt-2" th:text="${lesson.content}">Lesson content</p>
            <div th:if="${lesson.videoUrl != null and !lesson.videoUrl.isEmpty()}" class="mt-2">
                <a th:href="${lesson.videoUrl}" target="_blank" class="video-link">?? Watch Video</a>
            </div>
            <div th:if="${lesson.imagePath != null and !lesson.imagePath.isEmpty()}" class="mt-2">
                <img th:src="${lesson.imagePath}" alt="Lesson Image" class="lesson-image">
            </div>
        </div>
        <div th:if="${quizzes != null and !quizzes.isEmpty()}" class="mt-4">
            <h2 class="section-title">Available Quizzes</h2>
            <div th:each="quiz : ${quizzes}" class="card clickable">
                <h4 th:text="${quiz.title}">Quiz Title</h4>
                <p class="text-muted mt-1"><span th:text="${quiz.duration}">15</span> minutes</p>
                <a th:href="@{/student/quiz(id=${quiz.id})}" class="btn btn-primary mt-2">Take Quiz</a>
            </div>
        </div>
    </div>
</body>
</html>
